(this["webpackJsonphouse-marketplace"]=this["webpackJsonphouse-marketplace"]||[]).push([[0],{53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(5),i=a.n(s),l=a(37),o=a.n(l),u=(a(53),a(21)),j=a(16),b=a(18),d=(a(54),["title","titleId"]);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m.apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function f(e,t){var a=e.title,i=e.titleId,l=O(e,d);return s.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,n||(n=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),c||(c=s.createElement("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z"})),r||(r=s.createElement("circle",{cx:6.5,cy:6.5,r:1.5})))}var p,h,x=s.forwardRef(f),g=(a.p,["title","titleId"]);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function y(e,t){var a=e.title,n=e.titleId,c=N(e,g);return s.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,p||(p=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),h||(h=s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"})))}var w,k,I=s.forwardRef(y),S=(a.p,["title","titleId"]);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L.apply(this,arguments)}function C(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function P(e,t){var a=e.title,n=e.titleId,c=C(e,S);return s.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,w||(w=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),k||(k=s.createElement("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})))}var B=s.forwardRef(P),E=(a.p,a(1));var D=function(){var e=Object(j.h)(),t=Object(j.g)(),a=function(e){if(e===t.pathname)return!0};return Object(E.jsx)("footer",{className:"navbar",children:Object(E.jsx)("nav",{className:"navbarNav",children:Object(E.jsxs)("ul",{className:"navbarListItems",children:[Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/")},children:[Object(E.jsx)(I,{fill:a("/")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/")?"navbarListItemNameActive":"navbarListItemName",children:"Explore"})]}),Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/offers")},children:[Object(E.jsx)(x,{fill:a("/offers")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/offer")?"navbarListItemNameActive":"navbarListItemName",children:"Offers"})]}),Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/profile")},children:[Object(E.jsx)(B,{fill:a("/profile")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/profile")?"navbarListItemNameActive":"navbarListItemName",children:"Profile"})]})]})})})},A=a(9),R=a(22);var U=function(){return Object(E.jsx)("div",{className:"loadingSpinnerContainer",children:Object(E.jsx)("div",{className:"loadingSpinner"})})},T=function(){var e=function(){var e=Object(s.useState)(!1),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(A.a)(c,2),i=r[0],l=r[1],o=Object(s.useRef)(!0);return Object(s.useEffect)((function(){if(o){var e=Object(R.c)();Object(R.d)(e,(function(e){e&&n(!0),l(!1)}))}return function(){o.current=!1}}),[o]),{loggedIn:a,checkingStatus:i}}(),t=e.loggedIn;return e.checkingStatus?Object(E.jsx)(U,{}):t?Object(E.jsx)(j.b,{}):Object(E.jsx)(j.a,{to:"/sign-in"})},H=a(0),M=a(2),z=a(13),F=a(45),q=Object(F.a)({apiKey:" AIzaSyCOsu6DTcATwxd7toNfHKpMxeFkhWHbzok",authDomain:"house-marketplace-app-e11cb.firebaseapp.com",projectId:"house-marketplace-app-e11cb",storageBucket:"house-marketplace-app-e11cb.appspot.com",messagingSenderId:"1035901134825",appId:"1:1035901134825:web:a046a01c05406f982ccd78"}),_=Object(z.g)(q),V=a(63),Y=a(58),K=a(59),W=a(60),$=a(61),G=a(64),J=a(62);a(44);V.a.use([Y.a,K.a,W.a,$.a]);var Z=function(){var e=Object(s.useState)(!0),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(A.a)(c,2),i=r[0],l=r[1],o=Object(j.h)();return Object(s.useEffect)((function(){var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a,c,r;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.b)(_,"listings"),a=Object(z.j)(t,Object(z.i)("timestamp","desc"),Object(z.h)(5)),e.next=4,Object(z.f)(a);case 4:c=e.sent,r=[],c.forEach((function(e){return r.push({id:e.id,data:e.data()})})),console.log(r),l(r),n(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a?Object(E.jsx)(U,{}):0===i.length?Object(E.jsx)(E.Fragment,{}):i&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{className:"exploreHeading",children:"Recommended"}),Object(E.jsx)(G.a,{slidesPerView:1,pagination:{clickable:!0},children:i.map((function(e){var t,a=e.data,n=e.id;return Object(E.jsx)(J.a,{onClick:function(){return o("/category/".concat(a.type,"/").concat(n))},children:Object(E.jsxs)("div",{style:{background:"url(".concat(a.imageUrls[0],") center no-repeat"),backgroundSize:"cover"},className:"swiperSlideDiv",children:[Object(E.jsx)("p",{className:"swiperSlideText",children:a.name}),Object(E.jsxs)("p",{className:"swiperSlidePrice",children:["$",null!==(t=a.discountedPrice)&&void 0!==t?t:a.regularPrice," ","rent"===a.type&&"/ month"]})]})},n)}))})]})},Q=a.p+"static/media/rentCategoryImage.cd9f0150.jpg",X=a.p+"static/media/sellCategoryImage.c4d28ee7.jpg";var ee,te,ae=function(){return Object(E.jsxs)("div",{className:"explore",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Explore"})}),Object(E.jsxs)("main",{children:[Object(E.jsx)(Z,{}),Object(E.jsx)("p",{className:"exploreCategoryHeading",children:"Categories"}),Object(E.jsxs)("div",{className:"exploreCategories",children:[Object(E.jsxs)(u.b,{to:"/category/rent",children:[Object(E.jsx)("img",{src:Q,alt:"rent",className:"exploreCategoryImg"}),Object(E.jsx)("p",{className:"exploreCategoryName",children:"Places for rent"})]}),Object(E.jsxs)(u.b,{to:"/category/sale",children:[Object(E.jsx)("img",{src:X,alt:"sell",className:"exploreCategoryImg"}),Object(E.jsx)("p",{className:"exploreCategoryName",children:"Places for sale"})]})]})]})]})},ne=a(17),ce=["title","titleId"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},re.apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ie(e,t){var a=e.title,n=e.titleId,c=se(e,ce);return s.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,ee||(ee=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),te||(te=s.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))}var le,oe,ue=s.forwardRef(ie),je=(a.p,["title","titleId"]);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},be.apply(this,arguments)}function de(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function me(e,t){var a=e.title,n=e.titleId,c=de(e,je);return s.createElement("svg",be({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,le||(le=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),oe||(oe=s.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))}var Oe=s.forwardRef(me),fe=(a.p,a.p+"static/media/bedIcon.eefa75b1.svg"),pe=a.p+"static/media/bathtubIcon.b95c8ddb.svg";var he=function(e){var t=e.listing,a=e.id,n=e.onEdit,c=e.onDelete;return Object(E.jsxs)("li",{className:"categoryListing",children:[Object(E.jsxs)(u.b,{to:"/category/".concat(t.type,"/").concat(a),className:"categoryListingLink",children:[Object(E.jsx)("img",{src:t.imageUrls[0],alt:t.name,className:"categoryListingImg"}),Object(E.jsxs)("div",{className:"categoryListingDetails",children:[Object(E.jsx)("p",{className:"categoryListingLocation",children:t.location}),Object(E.jsx)("p",{className:"categoryListingName",children:t.name}),Object(E.jsxs)("p",{className:"categoryListingPrice",children:["$",t.offer?t.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"rent"===t.type&&" / Month"]}),Object(E.jsxs)("div",{className:"categoryListingInfoDiv",children:[Object(E.jsx)("img",{src:fe,alt:"bed"}),Object(E.jsx)("p",{className:"categoryListingInfoText",children:t.bedrooms>1?"".concat(t.bedrooms," Bedrooms"):"1 Bedroom"}),Object(E.jsx)("img",{src:pe,alt:"bath"}),Object(E.jsx)("p",{className:"categoryListingInfoText",children:t.bathrooms>1?"".concat(t.bathrooms," Bathrooms"):"1 Bathroom"})]})]})]}),c&&Object(E.jsx)(ue,{className:"removeIcon",fill:"rgb(231, 76,60)",onClick:function(){return c(t.id,t.name)}}),n&&Object(E.jsx)(Oe,{className:"editIcon",onClick:function(){return n(a)}})]})};var xe=function(){var e=Object(s.useState)(null),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(A.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(null),u=Object(A.a)(o,2),j=u[0],d=u[1];Object(s.useEffect)((function(){var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a,c,r,s;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(z.b)(_,"listings"),a=Object(z.j)(t,Object(z.o)("offers","==",!0),Object(z.h)(10)),e.next=5,Object(z.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],d(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n(s),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a,c,r,s;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(z.b)(_,"listings"),a=Object(z.j)(t,Object(z.o)("offer","==",!0),Object(z.i)("timestamp","desc"),Object(z.m)(j),Object(z.h)(10)),e.next=5,Object(z.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],d(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n((function(e){return[].concat(Object(ne.a)(e),s)})),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"category",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Offers"})}),i?Object(E.jsx)(U,{}):a&&a.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("main",{children:Object(E.jsx)("ul",{className:"categoryListings",children:a.map((function(e){return Object(E.jsx)(he,{listing:e.data,id:e.id},e.id)}))})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),j&&Object(E.jsx)("p",{className:"loadMore",onClick:m,children:"Load More"})]}):Object(E.jsx)("p",{children:"There are no current offers"})]})};var ge=function(){var e=Object(s.useState)(null),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(A.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(null),u=Object(A.a)(o,2),d=u[0],m=u[1],O=Object(j.i)();Object(s.useEffect)((function(){var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a,c,r,s;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(z.b)(_,"listings"),a=Object(z.j)(t,Object(z.o)("type","==",O.categoryName),Object(z.i)("timestamp","desc"),Object(z.h)(10)),e.next=5,Object(z.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],m(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n(s),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[O.categoryName]);var f=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a,c,r,s;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(z.b)(_,"listings"),a=Object(z.j)(t,Object(z.o)("type","==",O.categoryName),Object(z.i)("timestamp","desc"),Object(z.m)(d),Object(z.h)(10)),e.next=5,Object(z.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],m(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n((function(e){return[].concat(Object(ne.a)(e),s)})),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"category",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"rent"===O.categoryName?"Places for rent":"Places for sale"})}),i?Object(E.jsx)(U,{}):a&&a.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("main",{children:Object(E.jsx)("ul",{className:"categoryListings",children:a.map((function(e){return Object(E.jsx)(he,{listing:e.data,id:e.id},e.id)}))})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),d&&Object(E.jsx)("p",{className:"loadMore",onClick:f,children:"Load More"})]}):Object(E.jsxs)("p",{children:["No listings for ",O.categoryName]})]})},ve=a(6),Ne=a(20),ye=a.p+"static/media/keyboardArrowRightIcon.8cee54be.svg",we=a.p+"static/media/homeIcon.09f28a71.svg";var ke=function(){var e=Object(R.c)(),t=Object(s.useState)(!0),a=Object(A.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(null),i=Object(A.a)(r,2),l=i[0],o=i[1],d=Object(s.useState)(!1),m=Object(A.a)(d,2),O=m[0],f=m[1],p=Object(s.useState)({name:e.currentUser.displayName,email:e.currentUser.email}),h=Object(A.a)(p,2),x=h[0],g=h[1],v=x.name,N=x.email,y=Object(j.h)();Object(s.useEffect)((function(){var t=function(){var t=Object(M.a)(Object(H.a)().mark((function t(){var a,n,r,s;return Object(H.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(z.b)(_,"listings"),n=Object(z.j)(a,Object(z.o)("userRef","==",e.currentUser.uid),Object(z.i)("timestamp","desc")),t.next=4,Object(z.f)(n);case 4:r=t.sent,s=[],r.forEach((function(e){return s.push({id:e.id,data:e.data()})})),o(s),c(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.currentUser.uid]);var w=function(){var t=Object(M.a)(Object(H.a)().mark((function t(){var a;return Object(H.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.currentUser.displayName===v){t.next=7;break}return t.next=4,Object(R.h)(e.currentUser,{displayName:v});case 4:return a=Object(z.d)(_,"users",e.currentUser.uid),t.next=7,Object(z.n)(a,{name:v});case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),b.b.error("Could not update profile details");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),k=function(e){g((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(ve.a)({},e.target.id,e.target.value))}))},I=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var a;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete?")){e.next=6;break}return e.next=3,Object(z.c)(Object(z.d)(_,"listings",t));case 3:a=l.filter((function(e){return e.id!==t})),o(a),b.b.success("Successfully deleted listing");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsxs)("header",{className:"profileHeader",children:[Object(E.jsx)("p",{className:"pageHeader",children:"My Profile"}),Object(E.jsx)("button",{type:"button",className:"logOut",onClick:function(){e.signOut(),y("/")},children:"Logout"})]}),Object(E.jsxs)("main",{children:[Object(E.jsxs)("div",{className:"profileDetailsHeader",children:[Object(E.jsx)("p",{className:"profileDetailsText",children:"Personal Details"}),Object(E.jsx)("p",{className:"changePersonalDetails",onClick:function(){O&&w(),f((function(e){return!e}))},children:O?"done":"change"})]}),Object(E.jsx)("div",{className:"profileCard",children:Object(E.jsxs)("form",{children:[Object(E.jsx)("input",{type:"text",id:"name",className:O?"profileNameActive":"profileName",disabled:!O,value:v,onChange:k}),Object(E.jsx)("input",{type:"text",id:"email",className:O?"profileEmailActive":"profileEmail",disabled:!O,value:N,onChange:k})]})}),Object(E.jsxs)(u.b,{to:"/create-listing",className:"createListing",children:[Object(E.jsx)("img",{src:we,alt:"home"}),Object(E.jsx)("p",{children:"Sell or rent your home"}),Object(E.jsx)("img",{src:ye,alt:"arrow right"})]}),!n&&(null===l||void 0===l?void 0:l.length)>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{className:"listingText",children:"Your Listings"}),Object(E.jsx)("ul",{className:"listingsList",children:l.map((function(e){return Object(E.jsx)(he,{listing:e.data,id:e.id,onDelete:function(){return I(e.id)},onEdit:function(){return t=e.id,y("/edit-listing/".concat(t));var t}},e.id)}))})]})]})]})},Ie=a.p+"static/media/googleIcon.a2a9c863.svg";var Se,Le,Ce=function(){var e=Object(j.h)(),t=Object(j.g)(),a=function(){var t=Object(M.a)(Object(H.a)().mark((function t(){var a,n,c,r,s;return Object(H.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(R.c)(),n=new R.a,t.next=5,Object(R.g)(a,n);case 5:return c=t.sent,r=c.user,s=Object(z.d)(_,"users",r.uid),t.next=10,Object(z.e)(s);case 10:if(t.sent.exists()){t.next=14;break}return t.next=14,Object(z.l)(Object(z.d)(_,"users",r.uid),{name:r.displayName,email:r.email,timestamp:Object(z.k)()});case 14:e("/"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),b.b.error("Could not authorize with Google");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"socialLogin",children:[Object(E.jsxs)("p",{children:["Sign ","/sign-up"===t.pathname?"up":"in"," with "]}),Object(E.jsx)("button",{className:"socialIconDiv",onClick:a,children:Object(E.jsx)("img",{className:"socialIconImg",src:Ie,alt:"google"})})]})},Pe=["title","titleId"];function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Be.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function De(e,t){var a=e.title,n=e.titleId,c=Ee(e,Pe);return s.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,Se||(Se=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),Le||(Le=s.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})))}var Ae=s.forwardRef(De),Re=(a.p,a.p+"static/media/visibilityIcon.d42e2dff.svg");var Ue=function(){var e=Object(s.useState)(!1),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({email:"",password:""}),r=Object(A.a)(c,2),i=r[0],l=r[1],o=i.email,d=i.password,m=Object(j.h)(),O=function(e){l((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(ve.a)({},e.target.id,e.target.value))}))},f=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var a;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=Object(R.c)(),e.next=5,Object(R.f)(a,o,d);case 5:e.sent.user&&m("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.b.error("Bad User Credentials");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Welcome Back!"})}),Object(E.jsxs)("form",{onSubmit:f,children:[Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:o,onChange:O}),Object(E.jsxs)("div",{className:"passwordInputDiv",children:[Object(E.jsx)("input",{type:a?"text":"password",className:"passwordInput",placeholder:"Password",id:"password",value:d,onChange:O}),Object(E.jsx)("img",{src:Re,alt:"show password",className:"showPassword",onClick:function(){return n((function(e){return!e}))}})]}),Object(E.jsx)(u.b,{to:"/forgot-password",className:"forgotPasswordLink",children:"Forgot Password"}),Object(E.jsxs)("div",{className:"signInBar",children:[Object(E.jsx)("p",{className:"signInText",children:"Sign In"}),Object(E.jsx)("button",{className:"signInButton",children:Object(E.jsx)(Ae,{fill:"#ffffff",width:"34px",height:"34px"})})]})]}),Object(E.jsx)(Ce,{}),Object(E.jsx)(u.b,{to:"/sign-up",className:"registerLink",children:"Sign Up Instead"})]})})};var Te=function(){var e=Object(s.useState)(!1),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({name:"",email:"",password:""}),r=Object(A.a)(c,2),i=r[0],l=r[1],o=i.name,d=i.email,m=i.password,O=Object(j.h)(),f=function(e){l((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(ve.a)({},e.target.id,e.target.value))}))},p=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var a,n,c,r;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=Object(R.c)(),e.next=5,Object(R.b)(a,d,m);case 5:return n=e.sent,c=n.user,Object(R.h)(a.currentUser,{displayName:o}),delete(r=Object(Ne.a)({},i)).password,r.timestamp=Object(z.k)(),e.next=13,Object(z.l)(Object(z.d)(_,"users",c.uid),r);case 13:O("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),b.b.error("Something went wrong with registration");case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Welcome Back!"})}),Object(E.jsxs)("form",{onSubmit:p,children:[Object(E.jsx)("input",{type:"text",className:"nameInput",placeholder:"Name",id:"name",value:o,onChange:f}),Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:d,onChange:f}),Object(E.jsxs)("div",{className:"passwordInputDiv",children:[Object(E.jsx)("input",{type:a?"text":"password",className:"passwordInput",placeholder:"Password",id:"password",value:m,onChange:f}),Object(E.jsx)("img",{src:Re,alt:"show password",className:"showPassword",onClick:function(){return n((function(e){return!e}))}})]}),Object(E.jsx)(u.b,{to:"/forgot-password",className:"forgotPasswordLink",children:"Forgot Password"}),Object(E.jsxs)("div",{className:"signUpBar",children:[Object(E.jsx)("p",{className:"signUpText",children:"Sign Up"}),Object(E.jsx)("button",{className:"signUpButton",children:Object(E.jsx)(Ae,{fill:"#ffffff",width:"34px",height:"34px"})})]})]}),Object(E.jsx)(Ce,{}),Object(E.jsx)(u.b,{to:"/sign-in",className:"registerLink",children:"Sign In Instead"})]})})};var He=function(){var e=Object(s.useState)(""),t=Object(A.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var n;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=Object(R.c)(),e.next=5,Object(R.e)(n,a);case 5:b.b.success("Email was sent"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b.b.error("Could not send reset email");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Forgot Password"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:c,children:[Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:a,onChange:function(e){return n(e.target.value)}}),Object(E.jsx)(u.b,{className:"forgotPasswordLink",to:"/sign-in",children:"Sign In"}),Object(E.jsxs)("div",{className:"signInBar",children:[Object(E.jsx)("div",{className:"signInText",children:"Send Reset Link"}),Object(E.jsx)("button",{className:"signInButton",children:Object(E.jsx)(Ae,{fill:"#ffffff",width:"34px",height:"34px"})})]})]})})]})},Me=a(31),ze=a(65);var Fe=function(){var e=Object(s.useState)(!0),t=Object(A.a)(e,2),a=t[0],n=(t[1],Object(s.useState)(!1)),c=Object(A.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),o=Object(A.a)(l,2),u=o[0],d=o[1],m=u.type,O=u.name,f=u.bedrooms,p=u.bathrooms,h=u.parking,x=u.furnished,g=u.address,v=u.offer,N=u.regularPrice,y=u.discountedPrice,w=u.images,k=u.latitude,I=u.longitude,S=Object(R.c)(),L=Object(j.h)(),C=Object(s.useRef)(!0);Object(s.useEffect)((function(){return C&&Object(R.d)(S,(function(e){e?d(Object(Ne.a)(Object(Ne.a)({},u),{},{userRef:e.uid})):L("/sign-in")})),function(){C.current=!1}}),[C]);var P=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var a,n,c,r,s;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i(!0),!(y>=N)){e.next=6;break}return i(!1),b.b.error("Discounted price needs to be less than regular price"),e.abrupt("return");case 6:if(!(w.length>6)){e.next=10;break}return i(!1),b.b.error("Max 6 images"),e.abrupt("return");case 10:return a={},n=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=Object(Me.b)(),c="".concat(S.currentUser.uid,"-").concat(t.name,"-").concat(Object(ze.a)()),r=Object(Me.c)(n,"images/"+c),s=Object(Me.d)(r,t);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){a(e)}),(function(){Object(Me.a)(s.snapshot.ref).then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=14,Promise.all(Object(ne.a)(w).map((function(e){return n(e)}))).catch((function(e){i(!1),console.log(e)}));case 14:return c=e.sent,console.log(c),(r=Object(Ne.a)(Object(Ne.a)({},u),{},{imageUrls:c,geolocation:a,timestamp:Object(z.k)()})).location=g,delete r.images,delete r.address,!r.offer&&delete r.discountedPrice,e.next=23,Object(z.a)(Object(z.b)(_,"listings"),r);case 23:s=e.sent,i(!1),b.b.success("Listing saved"),L("/category/".concat(r.type,"/").concat(s.id));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=null;"true"===e.target.value&&(t=!0),"false"===e.target.value&&(t=!1),e.target.files&&d((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},{images:e.target.files})})),e.target.files||d((function(a){var n;return Object(Ne.a)(Object(Ne.a)({},a),{},Object(ve.a)({},e.target.id,null!==(n=t)&&void 0!==n?n:e.target.value))}))};return r?Object(E.jsx)(U,{}):Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Create a Listing"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:P,children:[Object(E.jsx)("label",{className:"formLabel",children:"Sell / Rent"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{type:"button",className:"sale"===m?"formButtonActive":"formButton",id:"type",value:"sale",onClick:B,children:"Sell"}),Object(E.jsx)("button",{type:"button",className:"rent"===m?"formButtonActive":"formButton",id:"type",value:"rent",onClick:B,children:"Rent"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Name"}),Object(E.jsx)("input",{className:"formInputName",type:"text",id:"name",value:O,onChange:B,maxLength:"32",minLength:"10",required:!0}),Object(E.jsxs)("div",{className:"formRooms flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bedrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bedrooms",value:f,onChange:B,min:"1",max:"50",required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bathrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bathrooms",value:p,onChange:B,min:"1",max:"50",required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Parking spot"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:h?"formButtonActive":"formButton",type:"button",id:"parking",value:!0,onClick:B,min:"1",max:"50",children:"Yes"}),Object(E.jsx)("button",{className:h||null===h?"formButton":"formButtonActive",type:"button",id:"parking",value:!1,onClick:B,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Furnished"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:x?"formButtonActive":"formButton",type:"button",id:"furnished",value:!0,onClick:B,children:"Yes"}),Object(E.jsx)("button",{className:x||null===x?"formButton":"formButtonActive",type:"button",id:"furnished",value:!1,onClick:B,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Address"}),Object(E.jsx)("textarea",{className:"formInputAddress",type:"text",id:"address",value:g,onChange:B,required:!0}),!a&&Object(E.jsxs)("div",{className:"formLatLng flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Latitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"latitude",value:k,onChange:B,required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Longitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"longitude",value:I,onChange:B,required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Offer"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:v?"formButtonActive":"formButton",type:"button",id:"offer",value:!0,onClick:B,children:"Yes"}),Object(E.jsx)("button",{className:v||null===v?"formButton":"formButtonActive",type:"button",id:"offer",value:!1,onClick:B,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Regular Price"}),Object(E.jsxs)("div",{className:"formPriceDiv",children:[Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"regularPrice",value:N,onChange:B,min:"50",max:"750000000",required:!0}),"rent"===m&&Object(E.jsx)("p",{className:"formPriceText",children:"$ / Month"})]}),v&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{className:"formLabel",children:"Discounted Price"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"discountedPrice",value:y,onChange:B,min:"50",max:"750000000",required:v})]}),Object(E.jsx)("label",{className:"formLabel",children:"Images"}),Object(E.jsx)("p",{className:"imagesInfo",children:"The first image will be the cover (max 6)."}),Object(E.jsx)("input",{className:"formInputFile",type:"file",id:"images",onChange:B,max:"6",accept:".jpg,.png,.jpeg",multiple:!0,required:!0}),Object(E.jsx)("button",{type:"submit",className:"primaryButton createListingButton",children:"Create Listing"})]})})]})};var qe=function(){var e=Object(s.useState)(!0),t=Object(A.a)(e,2),a=t[0],n=(t[1],Object(s.useState)(!1)),c=Object(A.a)(n,2),r=c[0],i=c[1],l=Object(s.useState)(!1),o=Object(A.a)(l,2),u=o[0],d=o[1],m=Object(s.useState)({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),O=Object(A.a)(m,2),f=O[0],p=O[1],h=f.type,x=f.name,g=f.bedrooms,v=f.bathrooms,N=f.parking,y=f.furnished,w=f.address,k=f.offer,I=f.regularPrice,S=f.discountedPrice,L=f.images,C=f.latitude,P=f.longitude,B=Object(R.c)(),D=Object(j.h)(),T=Object(j.i)(),F=Object(s.useRef)(!0);Object(s.useEffect)((function(){u&&u.userRef!==B.currentUser.uid&&(b.b.error("You can not edit that listing"),D("/"))})),Object(s.useEffect)((function(){i(!0);var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.d)(_,"listings",T.listingId),e.next=3,Object(z.e)(t);case 3:(a=e.sent).exists()?(d(a.data()),p(Object(Ne.a)(Object(Ne.a)({},a.data()),{},{address:a.data().location})),i(!1)):(D("/"),b.b.error("Listing does not exist"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[T.listingId,D]),Object(s.useEffect)((function(){return F&&Object(R.d)(B,(function(e){e?p(Object(Ne.a)(Object(Ne.a)({},f),{},{userRef:e.uid})):D("/sign-in")})),function(){F.current=!1}}),[F]);var q=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){var n,c,r,s,l,o,u,j,d,m,O,p,h;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i(!0),!(S>=I)){e.next=6;break}return i(!1),b.b.error("Discounted price needs to be less than regular price"),e.abrupt("return");case 6:if(!(L.length>6)){e.next=10;break}return i(!1),b.b.error("Max 6 images"),e.abrupt("return");case 10:if(n={},!a){e.next=27;break}return e.next=14,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(w,"&key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/house-marketplace-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GEOCODE_API_KEY));case 14:return j=e.sent,e.next=17,j.json();case 17:if(d=e.sent,n.lat=null!==(r=null===(s=d.results[0])||void 0===s?void 0:s.geometry.location.lat)&&void 0!==r?r:0,n.lng=null!==(l=null===(o=d.results[0])||void 0===o?void 0:o.geometry.location.lng)&&void 0!==l?l:0,void 0!==(c="ZERO_RESULTS"===d.status||null===(u=d.results[0])||void 0===u?void 0:u.formatted_address)&&!c.includes("undefined")){e.next=25;break}return i(!1),b.b.error("Please enter a correct address"),e.abrupt("return");case 25:e.next=29;break;case 27:n.lat=C,n.lng=P;case 29:return m=function(){var e=Object(M.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=Object(Me.b)(),c="".concat(B.currentUser.uid,"-").concat(t.name,"-").concat(Object(ze.a)()),r=Object(Me.c)(n,"images/"+c),s=Object(Me.d)(r,t);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){a(e)}),(function(){Object(Me.a)(s.snapshot.ref).then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=32,Promise.all(Object(ne.a)(L).map((function(e){return m(e)}))).catch((function(){i(!1),b.b.error("Images not uploaded")}));case 32:return O=e.sent,(p=Object(Ne.a)(Object(Ne.a)({},f),{},{imgUrls:O,geolocation:n,timestamp:Object(z.k)()})).location=w,delete p.images,delete p.address,!p.offer&&delete p.discountedPrice,h=Object(z.d)(_,"listings",T.listingId),e.next=41,Object(z.n)(h,p);case 41:i(!1),b.b.success("Listing saved"),D("/category/".concat(p.type,"/").concat(h.id));case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=null;"true"===e.target.value&&(t=!0),"false"===e.target.value&&(t=!1),e.target.files&&p((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},{images:e.target.files})})),e.target.files||p((function(a){var n;return Object(Ne.a)(Object(Ne.a)({},a),{},Object(ve.a)({},e.target.id,null!==(n=t)&&void 0!==n?n:e.target.value))}))};return r?Object(E.jsx)(U,{}):Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Edit Listing"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:q,children:[Object(E.jsx)("label",{className:"formLabel",children:"Sell / Rent"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{type:"button",className:"sale"===h?"formButtonActive":"formButton",id:"type",value:"sale",onClick:V,children:"Sell"}),Object(E.jsx)("button",{type:"button",className:"rent"===h?"formButtonActive":"formButton",id:"type",value:"rent",onClick:V,children:"Rent"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Name"}),Object(E.jsx)("input",{className:"formInputName",type:"text",id:"name",value:x,onChange:V,maxLength:"32",minLength:"10",required:!0}),Object(E.jsxs)("div",{className:"formRooms flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bedrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bedrooms",value:g,onChange:V,min:"1",max:"50",required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bathrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bathrooms",value:v,onChange:V,min:"1",max:"50",required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Parking spot"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:N?"formButtonActive":"formButton",type:"button",id:"parking",value:!0,onClick:V,min:"1",max:"50",children:"Yes"}),Object(E.jsx)("button",{className:N||null===N?"formButton":"formButtonActive",type:"button",id:"parking",value:!1,onClick:V,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Furnished"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:y?"formButtonActive":"formButton",type:"button",id:"furnished",value:!0,onClick:V,children:"Yes"}),Object(E.jsx)("button",{className:y||null===y?"formButton":"formButtonActive",type:"button",id:"furnished",value:!1,onClick:V,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Address"}),Object(E.jsx)("textarea",{className:"formInputAddress",type:"text",id:"address",value:w,onChange:V,required:!0}),!a&&Object(E.jsxs)("div",{className:"formLatLng flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Latitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"latitude",value:C,onChange:V,required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Longitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"longitude",value:P,onChange:V,required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Offer"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:k?"formButtonActive":"formButton",type:"button",id:"offer",value:!0,onClick:V,children:"Yes"}),Object(E.jsx)("button",{className:k||null===k?"formButton":"formButtonActive",type:"button",id:"offer",value:!1,onClick:V,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Regular Price"}),Object(E.jsxs)("div",{className:"formPriceDiv",children:[Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"regularPrice",value:I,onChange:V,min:"50",max:"750000000",required:!0}),"rent"===h&&Object(E.jsx)("p",{className:"formPriceText",children:"$ / Month"})]}),k&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{className:"formLabel",children:"Discounted Price"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"discountedPrice",value:S,onChange:V,min:"50",max:"750000000",required:k})]}),Object(E.jsx)("label",{className:"formLabel",children:"Images"}),Object(E.jsx)("p",{className:"imagesInfo",children:"The first image will be the cover (max 6)."}),Object(E.jsx)("input",{className:"formInputFile",type:"file",id:"images",onChange:V,max:"6",accept:".jpg,.png,.jpeg",multiple:!0,required:!0}),Object(E.jsx)("button",{type:"submit",className:"primaryButton createListingButton",children:"Edit Listing"})]})})]})},_e=a.p+"static/media/shareIcon.cbe96fad.svg";V.a.use([Y.a,K.a,W.a,$.a]);var Ve=function(){var e,t=Object(s.useState)(null),a=Object(A.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!0),i=Object(A.a)(r,2),l=i[0],o=i[1],b=Object(s.useState)(!1),d=Object(A.a)(b,2),m=d[0],O=d[1],f=Object(j.h)(),p=Object(j.i)(),h=Object(R.c)();return Object(s.useEffect)((function(){var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.d)(_,"listings",p.listingId),e.next=3,Object(z.e)(t);case 3:(a=e.sent).exists()&&(console.log(a.data()),c(a.data()),o(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f,p.listingId]),l?Object(E.jsx)(U,{}):Object(E.jsxs)("main",{children:[Object(E.jsx)(G.a,{slidesPerView:1,pagination:{clickable:!0},children:n.imageUrls.map((function(e,t){return Object(E.jsx)(J.a,{children:Object(E.jsx)("div",{style:{background:"url(".concat(n.imageUrls[t],") center no-repeat"),backgroundSize:"cover"},className:"swiperSlideDiv"})},t)}))}),Object(E.jsxs)("div",{className:"shareIconDiv",onClick:function(){navigator.clipboard.writeText(window.location.href),O(!0),setTimeout((function(){O(!1)}),2e3)},children:[Object(E.jsx)("img",{src:_e,alt:""}),m&&Object(E.jsx)("p",{className:"linkCopied",children:"Link copied"})]}),Object(E.jsxs)("div",{className:"listingsDetails",children:[Object(E.jsxs)("p",{className:"listingName",children:[n.name," - $",n.offer?n.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):n.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(E.jsx)("p",{className:"listingLocation",children:n.location}),Object(E.jsxs)("p",{className:"listingType",children:["For ","rent"===n.type?"Rent":"Sale"]}),n.offer&&Object(E.jsxs)("p",{className:"discountPrice",children:["$",n.regularPrice-n.discountedPrice,"   discount"]}),Object(E.jsxs)("ul",{className:"listingDetailsList",children:[Object(E.jsx)("li",{children:n.bedrooms>1?"".concat(n.bedrooms," Bedrooms"):"1 Bedroom"}),Object(E.jsx)("li",{children:n.bathrooms>1?"".concat(n.bathrooms," Bathrooms"):"1 Bathroom"}),Object(E.jsx)("li",{children:n.parking&&"Parking Spot"}),Object(E.jsx)("li",{children:n.furnished&&"Furnished"})]}),Object(E.jsx)("p",{className:"listingLocationTitle",children:"Location"}),(null===(e=h.currentUser)||void 0===e?void 0:e.uid)!==n.userRef&&Object(E.jsx)(u.b,{to:"/contact/".concat(n.userRef,"?listingName=").concat(n.name),className:"primaryButton",children:"Contact Landlord"})]})]})};var Ye=function(){var e=Object(s.useState)(""),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(A.a)(c,2),i=r[0],l=r[1];console.log(i);var o=Object(u.c)(),d=Object(A.a)(o,2),m=d[0],O=(d[1],Object(j.i)());return Object(s.useEffect)((function(){var e=function(){var e=Object(M.a)(Object(H.a)().mark((function e(){var t,a;return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.d)(_,"users",O.landlordId),e.next=3,Object(z.e)(t);case 3:(a=e.sent).exists()?l(a.data()):b.b.error("Could not get landlord data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O.landlordId]),Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Contact Landlord"})}),null!==i&&Object(E.jsxs)("main",{children:[Object(E.jsx)("div",{className:"contactLandlord",children:Object(E.jsxs)("p",{className:"landlordName",children:["Contact ",null===i||void 0===i?void 0:i.name]})}),Object(E.jsxs)("form",{className:"messageForm",children:[Object(E.jsxs)("div",{className:"messageDiv",children:[Object(E.jsx)("label",{htmlFor:"message",className:"messageLabel",children:"Message"}),Object(E.jsx)("textarea",{name:"message",id:"message",className:"textarea",value:a,onChange:function(e){n(e.target.value)}})]}),Object(E.jsx)("a",{href:"mailto:".concat(i.email,"?Subject=").concat(m.get("listingName"),"&body=").concat(a),children:Object(E.jsx)("button",{type:"button",className:"primaryButton",children:"Send Message"})})]})]})]})};var Ke=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(j.e,{children:[Object(E.jsx)(j.c,{path:"/",element:Object(E.jsx)(ae,{})}),Object(E.jsx)(j.c,{path:"/offers",element:Object(E.jsx)(xe,{})}),Object(E.jsx)(j.c,{path:"/category/:categoryName",element:Object(E.jsx)(ge,{})}),Object(E.jsx)(j.c,{path:"/profile",element:Object(E.jsx)(T,{}),children:Object(E.jsx)(j.c,{path:"/profile",element:Object(E.jsx)(ke,{})})}),Object(E.jsx)(j.c,{path:"/sign-in",element:Object(E.jsx)(Ue,{})}),Object(E.jsx)(j.c,{path:"/sign-up",element:Object(E.jsx)(Te,{})}),Object(E.jsx)(j.c,{path:"/forgot-password",element:Object(E.jsx)(He,{})}),Object(E.jsx)(j.c,{path:"/create-listing",element:Object(E.jsx)(Fe,{})}),Object(E.jsx)(j.c,{path:"/edit-listing/:listingId",element:Object(E.jsx)(qe,{})}),Object(E.jsx)(j.c,{path:"/category/:categoryName/:listingId",element:Object(E.jsx)(Ve,{})}),Object(E.jsx)(j.c,{path:"/contact/:landlordId",element:Object(E.jsx)(Ye,{})})]}),Object(E.jsx)(D,{})]}),Object(E.jsx)(b.a,{})]})};o.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(Ke,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.de5b52c3.chunk.js.map